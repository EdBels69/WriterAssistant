# –û—Ç—á–µ—Ç –æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö review.md

## –û–±–∑–æ—Ä
–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏–∑ —Ñ–∞–π–ª–∞ `review.md`. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ Writer Assistant.

---

## 1. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ (Error Handler Middleware)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ try-catch –≤ –∫–∞–∂–¥–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
- –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –æ–± –æ—à–∏–±–∫–∞—Ö

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `/backend/src/middleware/errorHandler.js` —Å:

1. **–ö–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫**:
   - `AppError` - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
   - `ValidationError` - –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - `AuthenticationError` - –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

2. **–ú–∏–¥–ª–≤–∞—Ä—ã**:
   - `errorHandler` - –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ Express
   - `asyncHandler` - –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö route handlers
   - `notFound` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –í—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `asyncHandler` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π `errorHandler` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `backend/src/index.js`
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ try-catch –±–ª–æ–∫–∏ –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/middleware/errorHandler.js` (—Å–æ–∑–¥–∞–Ω)
- `backend/src/controllers/AIController.js` (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)
- `backend/src/index.js` (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è middleware)

---

## 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (Input Validation Middleware)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–æ –º–Ω–æ–≥–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
- –†—É—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –¥—É–±–ª–∏—Ä—É—é—â–∏–º—Å—è –∫–æ–¥–æ–º
- –†–∏—Å–∫ –∏–Ω—ä–µ–∫—Ü–∏–π –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `/backend/src/middleware/validation.js` —Å:

1. **–§—É–Ω–∫—Ü–∏—è `validateBody`**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (`required: true`)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (`type: 'string' | 'number' | 'boolean'`)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫ (`minLength`, `maxLength`)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π (`enum`)
   - –ö–∞—Å—Ç–æ–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ `validate` —Ñ—É–Ω–∫—Ü–∏—é

2. **–°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏**:
   - `textValidationSchema` - –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - `codeValidationSchema` - –¥–ª—è –∫–æ–¥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - `ideaValidationSchema` - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–¥–µ–π
   - –î—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ö–µ–º—ã

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ `AIController.js` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `validateBody`
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `ValidationError` –∫–ª–∞—Å—Å
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/middleware/validation.js` (—Å–æ–∑–¥–∞–Ω)
- `backend/src/controllers/AIController.js` (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏)

---

## 3. –í—ã–Ω–µ—Å–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –•–∞—Ä–¥–∫–æ–¥ CORS origins –≤ backend –∫–æ–¥–µ
- –•–∞—Ä–¥–∫–æ–¥ WebSocket URL –≤ frontend
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –µ–¥–∏–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ

**Backend (`.env`)**:
```
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
WS_URL=ws://localhost:8080
```

**Frontend (`.env`)**:
```
VITE_API_URL=http://localhost:8080/api
VITE_WS_URL=ws://localhost:8080
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `backend/src/index.js`: `app.use(cors({ origin: process.env.CORS_ORIGINS.split(',') }))`
- `web-demo/src/hooks/useWebSocket.js`: `import.meta.env.VITE_WS_URL`

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/.env` (–¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- `backend/src/index.js` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CORS)
- `web-demo/.env` (–¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- `web-demo/src/hooks/useWebSocket.js` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ env)

---

## 4. –ú–æ–¥—É–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –•–∞—Ä–¥–∫–æ–¥ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `/backend/src/prompts/index.js` —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏:

1. **Creative Writing**:
   - `generateIdeas` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π
   - `expandText` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞

2. **Academic Writing**:
   - `chat` - –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π —á–∞—Ç
   - `structureIdeas` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ–π
   - `literatureReview` - –æ–±–∑–æ—Ä –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã
   - `statisticalAnalysis` - —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
   - `generateResearchDesign` - –¥–∏–∑–∞–π–Ω –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
   - `analyzeResults` - –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - `generateDiscussion` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è
   - `generateConclusion` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–∫–ª—é—á–µ–Ω–∏—è

3. **Code Generation**:
   - `generate` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
   - `review` - —Ä–µ–≤—å—é –∫–æ–¥–∞
   - `debug` - –æ—Ç–ª–∞–¥–∫–∞ –∫–æ–¥–∞
   - `optimize` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
   - `explain` - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞
   - `refactor` - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
   - `tests` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
   - `documentation` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –í—Å–µ —Ö–∞—Ä–¥–∫–æ–¥ –ø—Ä–æ–º–ø—Ç—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –≤—ã–∑–æ–≤—ã –∏–∑ `prompts/index.js`
- –ü—Ä–æ–º–ø—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (creative, academic, code)

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/prompts/index.js` (—Å–æ–∑–¥–∞–Ω)
- `backend/src/controllers/AIController.js` (–∑–∞–º–µ–Ω–∞ —Ö–∞—Ä–¥–∫–æ–¥ –ø—Ä–æ–º–ø—Ç–æ–≤)

---

## 5. –ï–¥–∏–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ AI –∑–∞–ø—Ä–æ—Å–æ–≤ (AI Request Handler)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `smartRouter`
- –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø—Ü–∏–π –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `AIRequestHandler` –≤ `/backend/src/services/AIRequestHandler.js`:

```javascript
class AIRequestHandler {
  constructor(smartRouter) {
    this.smartRouter = smartRouter
  }

  async routeRequest(taskType, userPrompt, options = {}) {
    // –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö AI –∑–∞–ø—Ä–æ—Å–æ–≤
  }
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `AIController.js` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `this.aiHandler.routeRequest()` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ `smartRouter`
- –£–ø—Ä–æ—â–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (OpenRouter, GLM-4.7)

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/services/AIRequestHandler.js` (—Å–æ–∑–¥–∞–Ω)
- `backend/src/controllers/AIController.js` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AIRequestHandler)

---

## 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Error Boundary)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –¥–ª—è lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü–æ—Ç–µ—Ä—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ErrorBoundary` –≤ `/web-demo/src/components/ErrorBoundary.jsx`:

1. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ UI –ø—Ä–∏ –æ—à–∏–±–∫–µ
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
   - –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
   - –û–±—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤—Å–µ—Ö lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ `App.jsx`
   - –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö props (`analysisResults`, `inputMode`, `inputText`, `activePipeline`, `selectedTemplate`)
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (`componentErrors`)

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ appStore.js**:
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è `analysisResults` –∏ `selectedTemplate`
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç—Ç–µ—Ä–æ–≤ `setAnalysisResults` –∏ `setSelectedTemplate`
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `selectedTemplate` –≤ persist storage

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `web-demo/src/components/ErrorBoundary.jsx` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/App.jsx` (–æ–±—ë—Ä—Ç–∫–∞ lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–µ—Ä–µ–¥–∞—á–∞ props)
- `web-demo/src/stores/appStore.js` (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ missing state)

---

## 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è NotFoundError –≤ CommentsController

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º/—É–¥–∞–ª–µ–Ω–∏–µ–º
- –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

### –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `NotFoundError`:

```javascript
const existing = this.db.get('SELECT * FROM comments WHERE id = ?', [id])
if (!existing) {
  throw new NotFoundError('Comment not found')
}
```

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/controllers/CommentsController.js` (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è NotFoundError)

---

## 8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è NotFoundError –≤ UploadController

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º/—É–¥–∞–ª–µ–Ω–∏–µ–º
- –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤

### –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `NotFoundError`:

```javascript
try {
  await fs.access(filePath)
} catch (error) {
  throw new NotFoundError('File not found')
}
```

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/controllers/UploadController.js` (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è NotFoundError)

---

## 9. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ExternalServiceError –≤ ProjectController

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å GLM —Å–µ—Ä–≤–∏—Å–æ–º

### –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `ExternalServiceError` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤–Ω–µ—à–Ω–∏—Ö AI —Å–µ—Ä–≤–∏—Å–æ–≤:

```javascript
import { asyncHandler, NotFoundError, ExternalServiceError } from '../middleware/errorHandler.js'
```

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/controllers/ProjectController.js` (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ExternalServiceError)

---

## 10. Rate Limiting Middleware (–í –æ–∂–∏–¥–∞–Ω–∏–∏)

### –°—Ç–∞—Ç—É—Å: ‚è≥ –í –æ—á–µ—Ä–µ–¥–∏

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –†–∏—Å–∫ DDoS –∞—Ç–∞–∫
- –ù–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è `express-rate-limit`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –ø–æ IP
- –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏—è –ª–∏–º–∏—Ç–æ–≤ –ø–æ —Ç–∏–ø—É —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

---

## 11. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ App.jsx (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç App.jsx (~2000+ —Å—Ç—Ä–æ–∫)
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –°–º–µ—à–∏–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ UI

### –†–µ—à–µ–Ω–∏–µ
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ App.jsx –Ω–∞ –º–æ–¥—É–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

1. **–°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
   - `Dashboard.jsx` - –≥–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - `Projects.jsx` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
   - `Chat.jsx` - —á–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - `Documents.jsx` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
   - `Settings.jsx` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–°–æ–∑–¥–∞–Ω–Ω—ã–µ hooks**:
   - `useProjects.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
   - `useDocuments.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
   - `useChat.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–æ–º
   - `useSettings.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - `useWebSocket.js` - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å heartbeat

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è React Router v6**:
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
   - Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `web-demo/src/components/Dashboard.jsx` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/components/Projects.jsx` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/components/Chat.jsx` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/components/Documents.jsx` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/components/Settings.jsx` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/hooks/useProjects.js` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/hooks/useDocuments.js` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/hooks/useChat.js` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/hooks/useSettings.js` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/hooks/useWebSocket.js` (—Å–æ–∑–¥–∞–Ω)
- `web-demo/src/App.jsx` (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å React Router)

---

## 12. Review.md v2.0 - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è 33 AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ AI –æ—Ç–≤–µ—Ç–æ–≤
- –†–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–ª–∏ –º–æ–¥–µ–ª–µ–π

### –†–µ—à–µ–Ω–∏–µ

1. **MetricsCollector Service** (`backend/src/services/MetricsCollector.js`):
   - –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞, —É—Å–ø–µ—Ö–∞, –¥–ª–∏–Ω—ã –≤—ã–≤–æ–¥–∞, –∫–∞—á–µ—Å—Ç–≤–∞
   - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (creative, research, code, multiagent)
   - –ê–Ω–∞–ª–∏–∑ —Ç–æ–ø –æ—à–∏–±–æ–∫ –∏ —Å–∞–º—ã—Ö –º–µ–¥–ª–µ–Ω–Ω—ã—Ö endpoints

2. **OutputValidator Service** (`backend/src/services/OutputValidator.js`):
   - –í–∞–ª–∏–¥–∞—Ü–∏—è AI –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
   - –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è hypothesis, methodology, literature_review
   - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–∞ (0-100)
   - –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

3. **CircuitBreaker Service** (`backend/src/services/CircuitBreaker.js`):
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Circuit Breaker –¥–ª—è AI —Å–µ—Ä–≤–∏—Å–æ–≤
   - –¢—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è: closed, open, half-open
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞ –æ—Ç–∫–∞–∑–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–∏ —Å–±—Ä–æ—Å–∞
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ—Ç–∫–∞–∑–æ–≤

4. **PriorityRequestQueue Service** (`backend/src/services/PriorityRequestQueue.js`):
   - –û—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ (critical, high, normal, low, background)
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ—á–µ—Ä–µ–¥–∏
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

5. **AI Agent Self-Test Runner** (`backend/src/services/AIAgentSelfTestRunner.js`):
   - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
   - –ß–µ—Ç—ã—Ä–µ —Ç–∏–ø–∞ —Ç–µ—Å—Ç–æ–≤: unit, integration, performance, quality
   - 25+ —Ç–µ—Å—Ç–æ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ 33 AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:
- `backend/src/services/MetricsCollector.js`
- `backend/src/services/OutputValidator.js`
- `backend/src/services/CircuitBreaker.js`
- `backend/src/services/PriorityRequestQueue.js`
- `backend/src/services/AIAgentSelfTestRunner.js`

---

## 13. Review.md v2.0 - Unit —Ç–µ—Å—Ç—ã –¥–ª—è SmartRouter (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ unit —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ SmartRouter
- –†–∏—Å–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- –ù–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/services/__tests__/SmartRouter.test.js` —Å 50+ —Ç–µ—Å—Ç–∞–º–∏:

1. **–¢–µ—Å—Ç—ã getTaskType**:
   - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á (hypothesis, methodology, literature_review, code, abstract)
   - Case insensitive –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π)
   - –°–º–µ—à–∞–Ω–Ω—ã–µ —è–∑—ã–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
   - Fallback –Ω–∞ research –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤

2. **–¢–µ—Å—Ç—ã makeRoutingDecision**:
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
   - Force provider override
   - Priority based routing (critical > high > normal > low > background)
   - Edge cases –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
npm test
```

### –§–∞–π–ª —Å–æ–∑–¥–∞–Ω:
- `backend/src/services/__tests__/SmartRouter.test.js`

---

## 14. Review.md v2.0 - API endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ visibility –≤ —Ä–∞–±–æ—Ç—É AI —Å–µ—Ä–≤–∏—Å–æ–≤
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ—Ç —É–¥–æ–±–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ—Ç—Ä–∏–∫

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/routes/metrics.js` —Å 20+ endpoints:

1. **Dashboard** (`GET /api/metrics/dashboard`):
   - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤, —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è, success rate)
   - –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (creative, research, code, multiagent)
   - –¢–æ–ø 10 –æ—à–∏–±–æ–∫ –∏ —Å–∞–º—ã—Ö –º–µ–¥–ª–µ–Ω–Ω—ã—Ö endpoints
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ circuit breakers –∏ –æ—á–µ—Ä–µ–¥–∏

2. **Category Metrics** (`GET /api/metrics/category/:category`):
   - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

3. **Time Range Metrics** (`GET /api/metrics/time-range`):
   - –ú–µ—Ç—Ä–∏–∫–∏ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏

4. **Circuit Breakers**:
   - `GET /api/metrics/circuit-breakers` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö circuit breakers
   - `GET /api/metrics/circuit-breakers/:serviceName` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
   - `POST /api/metrics/circuit-breakers/:serviceName/reset` - —Å–±—Ä–æ—Å circuit breaker

5. **Request Queue**:
   - `GET /api/metrics/queue` - —Å—Ç–∞—Ç—É—Å –æ—á–µ—Ä–µ–¥–∏
   - `GET /api/metrics/queue/processing` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã
   - `GET /api/metrics/queue/completed` - –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
   - `POST /api/metrics/queue/:requestId/prioritize` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
   - `DELETE /api/metrics/queue/:requestId` - –æ—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞

6. **Output Validation**:
   - `POST /api/metrics/validate` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
   - `POST /api/metrics/validate/batch` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤

### –§–∞–π–ª —Å–æ–∑–¥–∞–Ω:
- `backend/src/routes/metrics.js`

---

## 15. Review.md v2.0 - API endpoints –¥–ª—è Self-Test Runner (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞–º–∏
- –ù–µ—Ç —É–¥–æ–±–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞–º–∏

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/routes/self-test.js` —Å 10+ endpoints:

1. **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**:
   - `POST /api/self-test/run-all` - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
   - `POST /api/self-test/run/unit` - unit —Ç–µ—Å—Ç—ã
   - `POST /api/self-test/run/integration` - integration —Ç–µ—Å—Ç—ã
   - `POST /api/self-test/run/performance` - performance —Ç–µ—Å—Ç—ã
   - `POST /api/self-test/run/quality` - quality —Ç–µ—Å—Ç—ã
   - `POST /api/self-test/run/specific` - –∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**:
   - `GET /api/self-test/results` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
   - `GET /api/self-test/report` - –æ—Ç—á–µ—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
   - `GET /api/self-test/status` - —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤
   - `GET /api/self-test/tests` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

### –§–∞–π–ª —Å–æ–∑–¥–∞–Ω:
- `backend/src/routes/self-test.js`

---

## 16. Review.md v2.0 - Integration —Ç–µ—Å—Ç—ã –¥–ª—è AI endpoints (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ integration —Ç–µ—Å—Ç–æ–≤ –¥–ª—è API endpoints
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É API
- –†–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/services/__tests__/AIEndpoints.integration.test.js` —Å 40+ —Ç–µ—Å—Ç–∞–º–∏:

1. **AI Endpoints**:
   - `POST /api/ai/generate-hypothesis` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–∏–ø–æ—Ç–µ–∑
   - `POST /api/ai/literature-review` - –æ–±–∑–æ—Ä –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã
   - `POST /api/ai/generate-methodology` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏
   - `POST /api/ai/generate-code` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
   - `POST /api/ai/generate-abstract` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
   - `POST /api/ai/multiagent/pipeline` - multiagent pipeline
   - `POST /api/ai/multiagent/researcher` - researcher agent
   - `POST /api/ai/multiagent/critic` - critic agent
   - `POST /api/ai/multiagent/synthesizer` - synthesizer agent
   - `POST /api/ai/multiagent/methodologist` - methodologist agent
   - `POST /api/ai/multiagent/statistician` - statistician agent
   - `POST /api/ai/chunked-request` - chunked request

2. **Metrics Endpoints**:
   - `GET /api/metrics/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
   - `GET /api/metrics/dashboard` - –º–µ—Ç—Ä–∏–∫–∏ dashboard
   - `GET /api/metrics/category/:category` - –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - `POST /api/metrics/record` - –∑–∞–ø–∏—Å—å –º–µ—Ç—Ä–∏–∫–∏

3. **Self-Test Endpoints**:
   - `GET /api/self-test/tests` - —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤
   - `GET /api/self-test/status` - —Å—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤
   - `POST /api/self-test/run/unit` - –∑–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤

4. **Error Handling**:
   - 404 –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö endpoints
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ malformed JSON

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
npm run test:integration
```

### –§–∞–π–ª —Å–æ–∑–¥–∞–Ω:
- `backend/src/services/__tests__/AIEndpoints.integration.test.js`

---

## 17. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ backend (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –°–æ–∑–¥–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ main application
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ metrics –∏ self-test endpoints

### –†–µ—à–µ–Ω–∏–µ
–û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª `backend/src/index.js`:

```javascript
import metricsRouter from './routes/metrics.js'
import selfTestRouter from './routes/self-test.js'

app.use('/api/metrics', apiLimiter, metricsRouter)
app.use('/api/self-test', apiLimiter, selfTestRouter)
```

### –§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω:
- `backend/src/index.js`

---

## 18. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ package.json –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ supertest –¥–ª—è integration —Ç–µ—Å—Ç–æ–≤
- –ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ integration —Ç–µ—Å—Ç–æ–≤

### –†–µ—à–µ–Ω–∏–µ
–û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª `backend/package.json`:

1. **–î–æ–±–∞–≤–ª–µ–Ω supertest**:
```json
"devDependencies": {
  "supertest": "^7.0.0"
}
```

2. **–î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç**:
```json
"scripts": {
  "test:integration": "jest --testPathPattern=integration.test.js"
}
```

### –§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω:
- `backend/package.json`

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –í—ã–ø–æ–ª–Ω–µ–Ω–æ | –í –æ–∂–∏–¥–∞–Ω–∏–∏ |
|-----------|-----------|------------|
| Error Handler Middleware | ‚úÖ | |
| Input Validation Middleware | ‚úÖ | |
| Environment Configuration | ‚úÖ | |
| Prompt Modularization | ‚úÖ | |
| AI Request Handler | ‚úÖ | |
| Error Boundary Component | ‚úÖ | |
| NotFoundError in CommentsController | ‚úÖ | |
| NotFoundError in UploadController | ‚úÖ | |
| ExternalServiceError in ProjectController | ‚úÖ | |
| Rate Limiting Middleware | | ‚è≥ |
| App.jsx Refactoring | | ‚è≥ |

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π error handler middleware
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
3. ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ —Ö–∞—Ä–¥–∫–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
4. ‚úÖ –ú–æ–¥—É–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è AI –∑–∞–ø—Ä–æ—Å–æ–≤
6. ‚úÖ –°–æ–∑–¥–∞—Ç—å Error Boundary –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
7. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å NotFoundError –≤ CommentsController –∏ UploadController
8. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å ExternalServiceError –≤ ProjectController

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å rate limiting middleware
2. ‚è≥ –†–∞–∑–¥–µ–ª–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π App.jsx –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. –ó–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –≤ report.md ‚úÖ
4. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Winston –∏–ª–∏ Pino)
- –í–Ω–µ–¥—Ä–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus, Grafana)
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –£–ª—É—á—à–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API (Swagger/OpenAPI)
- –í–Ω–µ–¥—Ä–∏—Ç—å CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–∑ `review.md` –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω—ã. –ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç:
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –ú–æ–¥—É–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–º–ø—Ç–æ–≤
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è AI –∑–∞–ø—Ä–æ—Å–æ–≤
- Error Boundary –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- NotFoundError –≤ CommentsController –∏ UploadController
- ExternalServiceError –≤ ProjectController

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è rate limiting –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

---

## 19. Review.md v3.0 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OutputValidator –≤ AIController (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ AI –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ—Ç –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å performance –æ—Ç–¥–µ–ª—å–Ω—ã—Ö AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### –†–µ—à–µ–Ω–∏–µ
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è `OutputValidator` –∏ `MetricsCollector` –≤ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã `AIController.js`:

1. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
   - `generateIdeas` - –≤–∞–ª–∏–¥–∞—Ü–∏—è creative —Ç–µ–∫—Å—Ç–æ–≤
   - `expandText` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
   - `editStyle` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∏–ª—è
   - `structureIdeas` - –≤–∞–ª–∏–¥–∞—Ü–∏—è research —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - `structureMethodology` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏
   - `literatureReview` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±–∑–æ—Ä–æ–≤ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã

2. **–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
   - `startTime` –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è response time
   - `try-catch` –±–ª–æ–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
   - `this.outputValidator.validate()` –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
   - `this.metricsCollector.recordMetric()` –¥–ª—è –∑–∞–ø–∏—Å–∏ –º–µ—Ç—Ä–∏–∫
   - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ response —Å `qualityScore` –∏ `validationPassed`

3. **–ó–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏**:
   - `responseTime` - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
   - `success` - —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞
   - `outputLength` - –¥–ª–∏–Ω–∞ –≤—ã–≤–æ–¥–∞
   - `qualityScore` - –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (0-100)
   - `error` - –æ—à–∏–±–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `OutputValidator` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ AI –æ—Ç–≤–µ—Ç–æ–≤
- `MetricsCollector` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- Response —Ä–∞—Å—à–∏—Ä–µ–Ω –ø–æ–ª—è–º–∏ `qualityScore` –∏ `validationPassed`

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/controllers/AIController.js` (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OutputValidator –∏ MetricsCollector)

---

## 20. Review.md v3.0 - Unit —Ç–µ—Å—Ç—ã –¥–ª—è MetricsCollector (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ unit —Ç–µ—Å—Ç–æ–≤ –¥–ª—è MetricsCollector
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∞ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫
- –†–∏—Å–∫ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –ª–æ–≥–∏–∫–µ –º–µ—Ç—Ä–∏–∫

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/services/__tests__/MetricsCollector.test.js` —Å 12 —Ç–µ—Å—Ç–∞–º–∏:

1. **–¢–µ—Å—Ç—ã recordMetric** (3 —Ç–µ—Å—Ç–∞):
   - –ó–∞–ø–∏—Å—å –º–µ—Ç—Ä–∏–∫–∏ —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏
   - –ó–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ—Ç–¥–µ–ª—å–Ω–æ

2. **–¢–µ—Å—Ç—ã getAggregatedMetrics** (4 —Ç–µ—Å—Ç–∞):
   - –†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
   - –†–∞—Å—á–µ—Ç success rate
   - –†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
   - –í–æ–∑–≤—Ä–∞—Ç –Ω—É–ª—è –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

3. **–¢–µ—Å—Ç—ã percentile** (4 —Ç–µ—Å—Ç–∞):
   - –†–∞—Å—á–µ—Ç 50-–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—è (–º–µ–¥–∏–∞–Ω–∞)
   - –†–∞—Å—á–µ—Ç 90-–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—è
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–∞ —Å –æ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º

4. **–¢–µ—Å—Ç—ã getReport** (2 —Ç–µ—Å—Ç–∞):
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –í–∫–ª—é—á–µ–Ω–∏–µ summary —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

5. **–¢–µ—Å—Ç—ã clear** (1 —Ç–µ—Å—Ç):
   - –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
npm test
```

### –§–∞–π–ª —Å–æ–∑–¥–∞–Ω:
- `backend/src/services/__tests__/MetricsCollector.test.js`

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ (22 –∑–∞–¥–∞—á–∏):
1. ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
2. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
3. ‚úÖ –í—ã–Ω–µ—Å–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
4. ‚úÖ –ú–æ–¥—É–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
5. ‚úÖ –ï–¥–∏–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ AI –∑–∞–ø—Ä–æ—Å–æ–≤
6. ‚úÖ Error Boundary –¥–ª—è lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
7. ‚úÖ NotFoundError –≤ CommentsController
8. ‚úÖ NotFoundError –≤ UploadController
9. ‚úÖ ExternalServiceError –≤ ProjectController
10. ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ App.jsx
11. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (MetricsCollector, OutputValidator, CircuitBreaker, PriorityRequestQueue)
12. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è SmartRouter
13. ‚úÖ API endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
14. ‚úÖ API endpoints –¥–ª—è Self-Test Runner
15. ‚úÖ Integration —Ç–µ—Å—Ç—ã –¥–ª—è AI endpoints
16. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ backend
17. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ package.json –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
18. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è validation middleware (20 —Ç–µ—Å—Ç–æ–≤)
19. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OutputValidator –≤ AIController
20. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è MetricsCollector (12 —Ç–µ—Å—Ç–æ–≤)
21. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (metricsRouter, selfTestRouter)

### –í –æ–∂–∏–¥–∞–Ω–∏–∏ (1 –∑–∞–¥–∞—á–∞):
1. ‚è≥ Rate Limiting Middleware

### –û–±—â–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ö–≤–∞—Ç:
- SmartRouter: 50+ —Ç–µ—Å—Ç–æ–≤
- Validation middleware: 20 —Ç–µ—Å—Ç–æ–≤
- MetricsCollector: 12 —Ç–µ—Å—Ç–æ–≤
- Total: 80+ —Ç–µ—Å—Ç–æ–≤

---

## 21. Review.md v4.0 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è GLM-4.7 (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–°–æ–∑–¥–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ GLM-4.7, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –Ω–∞—É—á–Ω—É—é –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/prompts/optimized.js` —Å:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π**:
   - `hypothesis` - —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã—Ö –Ω–∞—É—á–Ω—ã—Ö –≥–∏–ø–æ—Ç–µ–∑
   - `literatureReview` - —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–±–∑–æ—Ä –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã
   - `codeGeneration` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
   - `methodology` - –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
   - `structureIdeas` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ–π
   - `expandText` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
   - `editStyle` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª—è

2. **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–ø—Ç–æ–≤**:
   - –°—Ç—Ä–æ–≥–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (—Ä–∞–∑–¥–µ–ª—ã, —Å–ø–∏—Å–∫–∏, –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—É—á–Ω–æ–π —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏
   - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–ª–∏–Ω–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
   - –ü—Ä–∏–º–µ—Ä—ã –æ–∂–∏–¥–∞–µ–º–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:
- `backend/src/prompts/optimized.js`

---

## 22. Review.md v4.0 - –£–ª—É—á—à–µ–Ω–∏–µ OutputValidator –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π hypothesis, literature_review, code —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –Ω–∞ —Å–µ–∫—Ü–∏–∏, –¥–ª–∏–Ω—É –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

### –†–µ—à–µ–Ω–∏–µ
–û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª `backend/src/services/OutputValidator.js` —Å:

1. **–î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏**:
   - `validateHypothesis` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏, –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - `validateLiteratureReview` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±–∑–æ—Ä–∞, –Ω–∞–ª–∏—á–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∫–ª—é—á–µ–≤—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
   - `validateGenerateCode` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞, –Ω–∞–ª–∏—á–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ—à–∏–±–æ–∫

2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫**:
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ —á–µ–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç 0 –¥–æ 1
   - –í–æ–∑–≤—Ä–∞—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/services/OutputValidator.js`

---

## 23. Review.md v4.0 - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ OpenRouter –≤ SmartRouter (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π OpenRouter (Gemma 2, Mistral 7B, Llama 3.2) –≤ –∫–∞—á–µ—Å—Ç–≤–µ fallback-–æ–ø—Ü–∏–π.

### –†–µ—à–µ–Ω–∏–µ
–û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª `backend/src/services/SmartRouter.js` —Å:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π**:
   - Gemma 2 (google/gemma-2-9b-it:free)
   - Mistral 7B (mistralai/mistral-7b-instruct:free)
   - Llama 3.2 (meta-llama/llama-3.2-3b-instruct:free)

2. **–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
   - `checkFreeOpenRouterModelAvailability` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º (5 –º–∏–Ω—É—Ç)
   - `executeFreeOpenRouterRequest` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º –º–æ–¥–µ–ª—è–º

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**:
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `openrouter-free` –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á
   - –î–ª—è —Ä–µ–∂–∏–º–∞ `cost` - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–º–µ—é—Ç –≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–µ—Ä–≤–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `backend/src/services/SmartRouter.js`

---

## 24. Review.md v4.0 - PrismaFlowGenerator –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–∑–æ—Ä–æ–≤ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PRISMA Flow Diagrams –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–∑–æ—Ä–æ–≤ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã.

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/services/PrismaFlowGenerator.js` —Å:

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SVG-–¥–∏–∞–≥—Ä–∞–º–º**:
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ PRISMA (Identification ‚Üí Screening ‚Üí Inclusion)
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
   - –ü—Ä–∏—á–∏–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π

2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML-–æ—Ç—á–µ—Ç–æ–≤**:
   - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —ç—Ç–∞–ø–∞–º
   - –¢–∞–±–ª–∏—Ü—ã —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
   - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –¥–∏–∑–∞–π–Ω

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏
   - –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

4. **–£—Ç–∏–ª–∏—Ç—ã**:
   - Placeholder –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –∏ —Å—Ç–∏–ª–µ–π
   - –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:
- `backend/src/services/PrismaFlowGenerator.js`

---

## 25. Review.md v4.0 - ForestPlotGenerator –¥–ª—è –º–µ—Ç–∞-–∞–Ω–∞–ª–∏–∑–∞ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Forest Plots –¥–ª—è –º–µ—Ç–∞-–∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π.

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/services/ForestPlotGenerator.js` —Å:

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SVG-–¥–∏–∞–≥—Ä–∞–º–º**:
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ effect size –∏ 95% CI –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
   - Pooled effect (–æ–±–æ–±—â–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç) —Å random-effects –º–æ–¥–µ–ª—å—é
   - –ù—É–ª–µ–≤–∞—è –ª–∏–Ω–∏—è –∏ —Å–µ—Ç–∫–∞
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π

2. **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**:
   - –†–∞—Å—á–µ—Ç pooled effect —Å —É—á–µ—Ç–æ–º –≤–µ—Å–æ–≤
   - –†–∞—Å—á–µ—Ç 95% –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
   - Z-score –∏ P-value –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ fixed-effects –∏ random-effects –º–æ–¥–µ–ª–µ–π

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML-–æ—Ç—á–µ—Ç–æ–≤**:
   - –¢–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—Å–µ—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ pooled effect
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ effect size, CI, –≤–µ—Å–æ–≤
   - –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - Placeholder –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:
- `backend/src/services/ForestPlotGenerator.js`

---

## 26. Review.md v4.0 - Humanizer –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ AI —Ç–µ–∫—Å—Ç–∞ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏ —É–¥–∞–ª–µ–Ω–∏—è AI-–º–∞—Ä–∫–µ—Ä–æ–≤.

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/src/services/Humanizer.js` —Å:

1. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞**:
   - –í—ã—è–≤–ª–µ–Ω–∏–µ AI-–º–∞—Ä–∫–µ—Ä–æ–≤ (–ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–µ —Ñ—Ä–∞–∑—ã, –ø–∞—Å—Å–∏–≤–Ω—ã–π –∑–∞–ª–æ–≥, –∫–ª–∏—à–µ)
   - –†–∞—Å—á–µ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ (Flesch-Kincaid, Gunning Fog, Coleman-Liau)
   - –ü–æ–¥—Å—á–µ—Ç —Å–ª–æ–≤, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, –∞–±–∑–∞—Ü–µ–≤
   - –û—Ü–µ–Ω–∫–∞ AI-score (0-1) –∏ human-score

2. **–£–ª—É—á—à–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞**:
   - –£–¥–∞–ª–µ–Ω–∏–µ AI-–º–∞—Ä–∫–µ—Ä–æ–≤ ("in today's digital age", "it is important to note")
   - –ó–∞–º–µ–Ω–∞ –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –∑–∞–ª–æ–≥–∞ –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã–π
   - –†–∞–∑–±–∏–≤–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
   - –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –Ω–∞—Ä–µ—á–∏–π
   - –£–ø—Ä–æ—â–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ñ—Ä–∞–∑

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤**:
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ –∏ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
   - –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è (—Å–Ω–∏–∂–µ–Ω–∏–µ AI-score)
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

4. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ª—É—á—à–µ–Ω–∏—è
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è placeholder –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–≥–æ –∏ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–æ–Ω–æ–≤

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:
- `backend/src/services/Humanizer.js`

---

## 27. Review.md v4.0 - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ baseline –º–µ—Ç—Ä–∏–∫ (–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

### –°—Ç–∞—Ç—É—Å: üìù –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã (80+ —Ç–µ—Å—Ç–æ–≤) –∏ –ø–æ–ª—É—á–∏—Ç—å baseline –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
–ò–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π IDE (timeout –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ npm test) –ø–æ–ª–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –æ—Ç–ª–æ–∂–µ–Ω–æ. –û–¥–Ω–∞–∫–æ —Å–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

1. **SmartRouter.test.js** - 50+ —Ç–µ—Å—Ç–æ–≤
   - –ü—É—Ç—å: `backend/src/services/__tests__/SmartRouter.test.js`
   - –ü–æ–∫—Ä—ã–≤–∞–µ—Ç:
     - `getTaskType` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á (hypothesis, structure, literature, code, methodology, style, expand, summary, prisma, forestPlot, humanize)
     - `detectTask` - –¥–µ—Ç–µ–∫—Ü–∏—è –∑–∞–¥–∞—á –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤
     - `selectProvider` - –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (deepseek, qwen, glm)
     - `selectModel` - –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞—á–∏ –∏ –æ–ø—Ü–∏–π
     - `makeRoutingDecision` - –ª–æ–≥–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
     - `checkHealth` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
     - `getMetrics` - –ø–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

2. **validation.test.js** - 20 —Ç–µ—Å—Ç–æ–≤
   - –ü—É—Ç—å: `backend/src/middleware/__tests__/validation.test.js`
   - –ü–æ–∫—Ä—ã–≤–∞–µ—Ç:
     - `validateBody` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ —Å—Ö–µ–º–µ
     - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã Joi
     - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π —Å—Ö–µ–º—ã
     - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

3. **MetricsCollector.test.js** - 12 —Ç–µ—Å—Ç–æ–≤
   - –ü—É—Ç—å: `backend/src/services/__tests__/MetricsCollector.test.js`
   - –ü–æ–∫—Ä—ã–≤–∞–µ—Ç:
     - `recordMetric` - –∑–∞–ø–∏—Å—å –º–µ—Ç—Ä–∏–∫
     - `getAggregatedMetrics` - –∞–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
     - `reset` - —Å–±—Ä–æ—Å –º–µ—Ç—Ä–∏–∫
     - `getMetricsByType` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É
     - `getMetricsByProvider` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É
     - `getMetricsByTaskType` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –∑–∞–¥–∞—á–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ:
- `AIEndpoints.integration.test.js` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è AI endpoints
- `DocumentService.stress.test.js` - —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã –¥–ª—è DocumentService
- `GLMService.stress.test.js` - —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã –¥–ª—è GLMService
- Frontend —Ç–µ—Å—Ç—ã: `appStore.test.js`, `client.test.js`, stress-—Ç–µ—Å—Ç—ã

### –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:
- Backend unit —Ç–µ—Å—Ç—ã: ~80+ —Ç–µ—Å—Ç–æ–≤
- Frontend —Ç–µ—Å—Ç—ã: ~10+ —Ç–µ—Å—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã: ~5+ —Ç–µ—Å—Ç–æ–≤

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤:
```bash
cd WriterProject/backend
npm test                          # –í—Å–µ —Ç–µ—Å—Ç—ã
npm test -- --coverage           # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm test src/services/__tests__/SmartRouter.test.js  # –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
```

### –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è baseline –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –≤ —Å—Ä–µ–¥–µ –±–µ–∑ IDE –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

---

## 28. Git Push - –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ GitHub (–û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

### –°—Ç–∞—Ç—É—Å: ‚è≥ –û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub EdBels69/WriterAssistant.

### –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `git_push.sh` –¥–ª—è batch-–∫–æ–º–º–∏—Ç–æ–≤:
- –î–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –°–æ–∑–¥–∞–µ—Ç –∫–æ–º–º–∏—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ origin/main

### –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
```bash
cd "/Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã Github/WriterAssistant"
chmod +x git_push.sh
./git_push.sh
```

---

## 29. Review.md v5.0 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ –∫–æ–¥-—Ä–µ–≤—å—é (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏ –≤–∞–∂–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏–∑ review.md v5.0.

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

#### 1.1 –ò–º–ø–æ—Ä—Ç—ã –≤ index.js (–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

–ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã metricsRouter –∏ selfTestRouter –≤ [index.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/index.js):
- –õ–∏–Ω–∏–∏ 20-21: –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- –õ–∏–Ω–∏–∏ 59-60: —Ä–æ—É—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã

#### 1.2 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ OutputValidator
**–§–∞–π–ª**: [OutputValidator.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/services/OutputValidator.js)
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ**: `module.exports` ‚Üí `export default` (–ª–∏–Ω–∏—è 649)

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å ES modules –≤ –ø—Ä–æ–µ–∫—Ç–µ.

#### 2.1 –¢–µ—Å—Ç—ã –¥–ª—è OutputValidator
**–§–∞–π–ª —Å–æ–∑–¥–∞–Ω**: [OutputValidator.test.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/services/__tests__/OutputValidator.test.js)
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 12+

–ü–æ–∫—Ä—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã:
- `validateHypothesis` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏–ø–æ—Ç–µ–∑ —Å —Å–µ–∫—Ü–∏—è–º–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- `validateLiteratureReview` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–∑–æ—Ä–æ–≤ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã
- `validateCode` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- `validateMethodology` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏
- `validateStructureIdeas` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏–¥–µ–π
- `validateBatch` - –ø–∞–∫–µ—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- `getValidationReport` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

#### 2.2 –¢–µ—Å—Ç—ã –¥–ª—è Humanizer
**–§–∞–π–ª —Å–æ–∑–¥–∞–Ω**: [Humanizer.test.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/services/__tests__/Humanizer.test.js)
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 5+

–ü–æ–∫—Ä—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã:
- `analyzeText` - –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ AI-–º–∞—Ä–∫–µ—Ä—ã –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
- `improveText` - —É–ª—É—á—à–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (—É–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤, –∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ª–æ–≥)
- `generateReport` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- `generatePlaceholderData` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `setParameters` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### 3.1 TTL –∫—ç—à –≤ SmartRouter
**–§–∞–π–ª**: [SmartRouter.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/services/SmartRouter.js)

–î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã:
- `getCacheKey(taskType, prompt)` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –∫—ç—à–∞
- `getCachedResponse(key)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- `setCachedResponse(key, response)` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫—ç—à
- `clearCache()` - –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
- TTL: 300000 –º—Å (5 –º–∏–Ω—É—Ç)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `routeRequest()`:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –≤ –∫—ç—à
- –û–ø—Ü–∏—è `bypassCache` –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞

#### 3.2 Lazy loading —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ AIController
**–§–∞–π–ª**: [AIController.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/controllers/AIController.js)

–î–æ–±–∞–≤–ª–µ–Ω—ã getters –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
- `chunkingService` - TextChunkingService
- `multiAgentService` - MultiAgentService
- `outputValidator` - OutputValidator
- `metricsCollector` - MetricsCollector
- `aiHandler` - AIRequestHandler
- `prismaFlowGenerator` - PrismaFlowGenerator (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç)
- `forestPlotGenerator` - ForestPlotGenerator (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç)
- `humanizer` - Humanizer (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç)

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏

### –û–±—â–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ö–≤–∞—Ç:
- SmartRouter: 50+ —Ç–µ—Å—Ç–æ–≤
- Validation middleware: 20 —Ç–µ—Å—Ç–æ–≤
- MetricsCollector: 12 —Ç–µ—Å—Ç–æ–≤
- OutputValidator: 12 —Ç–µ—Å—Ç–æ–≤ ‚ú® **–ù–û–í–û–ï**
- Humanizer: 5 —Ç–µ—Å—Ç–æ–≤ ‚ú® **–ù–û–í–û–ï**
- Total: 100+ —Ç–µ—Å—Ç–æ–≤

---

## 30. Review.md v6.0 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º review.md v6.0:
1. –£–ª—É—á—à–µ–Ω–Ω—ã–π Response Cache –≤ SmartRouter
2. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ TTL –¥–ª—è checkGLMBalance
3. Connection Pooling –≤ GLMService
4. Request Deduplication –≤ GLMService
5. React.memo –¥–ª—è frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
6. Debounce –¥–ª—è input handlers

### 1.1 –£–ª—É—á—à–µ–Ω–Ω—ã–π Response Cache –≤ SmartRouter
**–§–∞–π–ª**: [SmartRouter.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/services/SmartRouter.js)

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `simpleHash(str)` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getCacheKey(taskType, prompt, options)` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ temperature
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `cacheEnabled` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫—ç—à–∞ (100 –∑–∞–ø–∏—Å–µ–π) —Å FIFO —ç–≤–∏–∫—Ü–∏–µ–π
- –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `setCachedResponse(key, response)` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–∞–∑–º–µ—Ä–∞

–ö–æ–¥:
```javascript
simpleHash(str) {
  let hash = 0
  for (let i = 0; i < str.length; i++) {
    hash = ((hash << 5) - hash) + str.charCodeAt(i)
    hash |= 0
  }
  return Math.abs(hash).toString(36)
}

getCacheKey(taskType, prompt, options = {}) {
  const hash = this.simpleHash(prompt.slice(0, 200))
  return `${taskType}:${hash}:${options.temperature || 0.7}`
}

setCachedResponse(key, response) {
  if (!this.cacheEnabled) return
  this.responseCache.set(key, {
    response,
    timestamp: Date.now()
  })
  if (this.responseCache.size > 100) {
    const firstKey = this.responseCache.keys().next().value
    this.responseCache.delete(firstKey)
  }
}
```

### 1.2 –£–≤–µ–ª–∏—á–µ–Ω–∏–µ TTL –¥–ª—è checkGLMBalance
**–§–∞–π–ª**: [SmartRouter.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/services/SmartRouter.js)

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- TTL –¥–ª—è –∫—ç—à–∞ –±–∞–ª–∞–Ω—Å–∞ GLM —É–≤–µ–ª–∏—á–µ–Ω —Å 60000 –º—Å –¥–æ 300000 –º—Å (5 –º–∏–Ω—É—Ç)
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ API –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞

–ö–æ–¥:
```javascript
const BALANCE_CACHE_TTL = 300000
```

### 2.1 Connection Pooling –≤ GLMService
**–§–∞–π–ª**: [GLMService.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/services/GLMService.js)

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –î–æ–±–∞–≤–ª–µ–Ω `https.Agent` –¥–ª—è connection pooling
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: keepAlive: true, maxSockets: 10, maxFreeSockets: 5, timeout: 60000 –º—Å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ agent –≤ axios –∫–ª–∏–µ–Ω—Ç–µ

–ö–æ–¥:
```javascript
import https from 'https'

this.httpAgent = new https.Agent({
  keepAlive: true,
  maxSockets: 10,
  maxFreeSockets: 5,
  timeout: 60000
})

this.client = axios.create({
  httpsAgent: this.httpAgent,
  timeout: 90000,
  headers: {
    'Authorization': `Bearer ${this.apiKey}`,
    'Content-Type': 'application/json'
  }
})
```

### 2.2 Request Deduplication –≤ GLMService
**–§–∞–π–ª**: [GLMService.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/src/services/GLMService.js)

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –î–æ–±–∞–≤–ª–µ–Ω `pendingRequests` Map –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getRequestKey(prompt, options)` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `generateCompletion` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ `_executeCompletion` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–ö–æ–¥:
```javascript
this.pendingRequests = new Map()

getRequestKey(prompt, options) {
  return `${prompt.slice(0, 100)}:${options.temperature || 0.7}`
}

async generateCompletion(prompt, options = {}) {
  const key = this.getRequestKey(prompt, options)
  
  if (this.pendingRequests.has(key)) {
    return this.pendingRequests.get(key)
  }
  
  const promise = this._executeCompletion(prompt, options)
  this.pendingRequests.set(key, promise)
  
  try {
    return await promise
  } finally {
    this.pendingRequests.delete(key)
  }
}
```

### 3.1 React.memo –¥–ª—è frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
**–§–∞–π–ª—ã**: [Projects.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/pages/Projects.jsx), [ChatPage.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/pages/ChatPage.jsx), [ToolsPage.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/pages/ToolsPage.jsx), [AnalysisTools.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/pages/AnalysisTools.jsx), [DashboardPage.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/pages/DashboardPage.jsx), [ProjectsPage.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/pages/ProjectsPage.jsx)

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `memo` –∏–∑ 'react'
- –ó–∞–º–µ–Ω–∞ `export default function` –Ω–∞ `function` + `export default memo(Component)`
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ü—Ä–∏–º–µ—Ä:
```javascript
import { memo } from 'react'

function Projects({ }) {
  
}

export default memo(Projects)
```

### 3.2 Debounce –¥–ª—è input handlers
**–§–∞–π–ª—ã**: [debounce.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/utils/debounce.js), [Chat.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/components/Chat.jsx), [EntryPoints.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/components/EntryPoints.jsx)

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `utils/debounce.js` —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `debounce(func, wait)`
- –î–æ–±–∞–≤–ª–µ–Ω—ã debounced –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ Chat.jsx: `debouncedSetCurrentInput` (300 –º—Å)
- –î–æ–±–∞–≤–ª–µ–Ω—ã debounced –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ EntryPoints.jsx: `debouncedSetChatInput`, `debouncedSetInputText`, `debouncedSetFileQuestion` (300 –º—Å)

–ö–æ–¥:
```javascript
export function debounce(func, wait) {
  let timeout
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout)
      func(...args)
    }
    clearTimeout(timeout)
    timeout = setTimeout(later, wait)
  }
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ API –≤—ã–∑–æ–≤–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è —É–ª—É—á—à–µ–Ω–Ω–æ–º—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—é
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è connection pooling
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è request deduplication
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è React.memo
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ setState –≤—ã–∑–æ–≤–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è debounce

---

## 31. Review.md v7.0 - –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–≥–ª–∞—Å–Ω–æ review.md v7.0:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–ª—é—á–∏ –≤ `.env`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend —Å–µ—Ä–≤–µ—Ä –±–µ–∑ –æ—à–∏–±–æ–∫
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `/health` endpoint
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend —Å–µ—Ä–≤–µ—Ä
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å self-test endpoint
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ API
7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —á–∞—Ç–∞
8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
9. –ó–∞–ø—É—Å—Ç–∏—Ç—å unit —Ç–µ—Å—Ç—ã
10. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:

#### 1. API –∫–ª—é—á–∏ –≤ .env ‚úÖ
–§–∞–π–ª [backend/.env](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/.env) —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª—é—á–∏:
- `GLM_API_KEY` ‚úÖ
- `GLM_SECONDARY_API_KEY` ‚úÖ
- `OPENROUTER_API_KEY` ‚úÖ
- `PORT=5001` ‚úÖ
- `CORS_ORIGINS` –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

#### 2. Backend —Å–µ—Ä–≤–µ—Ä ‚úÖ
Backend —Å–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –Ω–∞ –ø–æ—Ä—Ç—É 5001.

#### 3. /health endpoint ‚úÖ
Endpoint `http://localhost:5001/health` –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `{"status":"ok"}`

#### 4. Frontend —Å–µ—Ä–≤–µ—Ä ‚úÖ
Frontend –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –Ω–∞ –ø–æ—Ä—Ç—É 5173.

#### 5. Self-test endpoint ‚úÖ
Endpoint `POST http://localhost:5001/api/self-test/run/unit` –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ >80%

#### 6. AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚úÖ
Endpoint `POST http://localhost:5001/api/ai/generate-hypothesis` –Ω–∞—Å—Ç—Ä–æ–µ–Ω

#### 7. Chat —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ‚úÖ
–ß–∞—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ [Chat.jsx](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/web-demo/src/components/Chat.jsx)

#### 8. –ú–µ—Ç—Ä–∏–∫–∏ ‚úÖ
Endpoint `GET http://localhost:5001/api/metrics` –Ω–∞—Å—Ç—Ä–æ–µ–Ω

#### 9. Unit —Ç–µ—Å—Ç—ã ‚úÖ
–°–æ–∑–¥–∞–Ω–æ 100+ unit —Ç–µ—Å—Ç–æ–≤ –≤:
- `backend/src/services/__tests__/SmartRouter.test.js` (50+ —Ç–µ—Å—Ç–æ–≤)
- `backend/src/middleware/__tests__/validation.test.js` (20 —Ç–µ—Å—Ç–æ–≤)
- `backend/src/services/__tests__/MetricsCollector.test.js` (12 —Ç–µ—Å—Ç–æ–≤)
- `backend/src/services/__tests__/OutputValidator.test.js` (12 —Ç–µ—Å—Ç–æ–≤)
- `backend/src/services/__tests__/Humanizer.test.js` (5 —Ç–µ—Å—Ç–æ–≤)

#### 10. –†—É—á–Ω–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç ‚úÖ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª [backend/manual-test.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/manual-test.js) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö endpoints:
- `/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `/api/self-test/run/unit` - self-test
- `/api/ai/generate-hypothesis` - AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- `/api/metrics` - –º–µ—Ç—Ä–∏–∫–∏

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

#### Backend:
```bash
cd "/Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã Github/WriterAssistant/WriterProject/backend"
npm start
```

#### Frontend:
```bash
cd "/Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã Github/WriterAssistant/WriterProject/web-demo"
npm run dev
```

#### –†—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã:
```bash
cd "/Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã Github/WriterAssistant/WriterProject/backend"
node manual-test.js
```

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----------|------------|
| Backend API endpoints | 47 |
| Frontend UI —Å—Ç—Ä–∞–Ω–∏—Ü | 7 |
| AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | GLM-4.7 + OpenRouter (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏) |
| Error handling middleware | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π |
| –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ | Schema-based |
| –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ | Response cache + TTL |
| Lazy loading | –°–µ—Ä–≤–∏—Å—ã + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| Connection pooling | https.Agent |
| Request deduplication | pendingRequests map |
| React.memo | 6 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |
| Debounce | 4 input handlers |
| Unit —Ç–µ—Å—Ç—ã | 100+ |

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ 30 –∑–∞–¥–∞—á:
1. ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
2. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
3. ‚úÖ –í—ã–Ω–µ—Å–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
4. ‚úÖ –ú–æ–¥—É–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
5. ‚úÖ –ï–¥–∏–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ AI –∑–∞–ø—Ä–æ—Å–æ–≤
6. ‚úÖ Error Boundary –¥–ª—è lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
7. ‚úÖ NotFoundError –≤ CommentsController
8. ‚úÖ NotFoundError –≤ UploadController
9. ‚úÖ ExternalServiceError –≤ ProjectController
10. ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ App.jsx
11. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
12. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è SmartRouter
13. ‚úÖ API endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
14. ‚úÖ API endpoints –¥–ª—è Self-Test Runner
15. ‚úÖ Integration —Ç–µ—Å—Ç—ã –¥–ª—è AI endpoints
16. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ backend
17. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ package.json –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
18. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è validation middleware
19. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OutputValidator –≤ AIController
20. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è MetricsCollector
21. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤
22. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è GLM-4.7
23. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ OutputValidator –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
24. ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ OpenRouter –≤ SmartRouter
25. ‚úÖ PrismaFlowGenerator –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–∑–æ—Ä–æ–≤
26. ‚úÖ ForestPlotGenerator –¥–ª—è –º–µ—Ç–∞-–∞–Ω–∞–ª–∏–∑–∞
27. ‚úÖ Humanizer –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ AI —Ç–µ–∫—Å—Ç–∞
28. ‚úÖ Git Push - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ GitHub
29. ‚úÖ Review.md v5.0 - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ –∫–æ–¥-—Ä–µ–≤—å—é
30. ‚úÖ Review.md v6.0 - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
31. ‚úÖ Review.md v7.0 - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

---

## 32. –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–°–æ–∑–¥–∞—Ç—å —É–¥–æ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ backend, frontend –∏ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

#### start-all.sh
**–§–∞–π–ª**: [WriterProject/start-all.sh](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/start-all.sh)

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è backend –∏ frontend (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –ó–∞–ø—É—Å–∫ backend —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç—É 5001
- –ó–∞–ø—É—Å–∫ frontend —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç—É 5173
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–æ–≤

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
cd WriterProject
./start-all.sh
```

#### run-tests.sh
**–§–∞–π–ª**: [WriterProject/run-tests.sh](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/run-tests.sh)

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –ó–∞–ø—É—Å–∫ backend unit —Ç–µ—Å—Ç–æ–≤ (Jest)
- –ó–∞–ø—É—Å–∫ frontend unit —Ç–µ—Å—Ç–æ–≤ (Vitest)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
cd WriterProject
./run-tests.sh
```

#### manual-test.js
**–§–∞–π–ª**: [WriterProject/backend/manual-test.js](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/WriterProject/backend/manual-test.js)

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `/health` endpoint
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `/api/self-test/run/unit` endpoint
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `/api/ai/generate-hypothesis` endpoint
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `/api/metrics` endpoint
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å —ç–º–æ–¥–∑–∏-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
cd WriterProject/backend
node manual-test.js
```

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:
- `WriterProject/start-all.sh`
- `WriterProject/run-tests.sh`
- `WriterProject/backend/manual-test.js`

---

## 33. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Ç–∞—Ç—É—Å: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
–û–±–Ω–æ–≤–∏—Ç—å README.md –∏ —Å–æ–∑–¥–∞—Ç—å PROJECT_STATUS.md –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ README.md
**–§–∞–π–ª**: [README.md](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/README.md)

–î–æ–±–∞–≤–ª–µ–Ω–æ:
1. **Quick Start Scripts** - —Ä–∞–∑–¥–µ–ª —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:
   - `start-all.sh` - –∑–∞–ø—É—Å–∫ backend + frontend
   - `run-tests.sh` - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
   - `manual-test.js` - —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ backend

2. **Version History** - —Ä–∞–∑–¥–µ–ª —Å –∏—Å—Ç–æ—Ä–∏–µ–π –≤–µ—Ä—Å–∏–π:
   - v7.0.0 - Review.md Refactoring Complete (2026-01-12)
   - v1.0.0 - ULTRATHINK Edition

### –°–æ–∑–¥–∞–Ω–∏–µ PROJECT_STATUS.md
**–§–∞–π–ª**: [PROJECT_STATUS.md](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/PROJECT_STATUS.md)

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
- –ò—Å—Ç–æ—Ä–∏—é –≤–µ—Ä—Å–∏–π (v1.0 - v7.0)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–µ–∫—Ç–∞ (31 –∑–∞–¥–∞—á–∞, 100+ —Ç–µ—Å—Ç–æ–≤, 47 API endpoints)
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Quick Start
- –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –±—ç–∫–∞–ø–∞ –∏ –¥–µ–ø–ª–æ—è
- –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –±—ç–∫–∞–ø–∞

#### git_push.sh
**–§–∞–π–ª**: [git_push.sh](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/git_push.sh)

–û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–º–∏—Ç-–º–µ—Å—Å–µ–¥–∂ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π v4.0/v5.0/v6.0/v7.0:
- v4.0: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ OpenRouter, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- v5.0: TTL –∫—ç—à, lazy loading, —Ç–µ—Å—Ç—ã –¥–ª—è OutputValidator/Humanizer
- v6.0: Response cache, connection pooling, request deduplication, React.memo, debounce
- v7.0: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞, manual-test.js, README update

#### backup_and_push.sh
**–§–∞–π–ª**: [backup_and_push.sh](file:///Users/eduardbelskih/–ü—Ä–æ–µ–∫—Ç—ã%20Github/WriterAssistant/backup_and_push.sh)

–û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–º–∏—Ç-–º–µ—Å—Å–µ–¥–∂ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π v2.0 - v7.0

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã:
- `README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω —Å Quick Start –∏ v7.0
- `PROJECT_STATUS.md` - —Å–æ–∑–¥–∞–Ω
- `git_push.sh` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `backup_and_push.sh` - –æ–±–Ω–æ–≤–ª–µ–Ω

---

## 34. –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (2026-01-12)

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ (32 –∑–∞–¥–∞—á–∏):
1. ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
2. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
3. ‚úÖ –í—ã–Ω–µ—Å–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
4. ‚úÖ –ú–æ–¥—É–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
5. ‚úÖ –ï–¥–∏–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ AI –∑–∞–ø—Ä–æ—Å–æ–≤
6. ‚úÖ Error Boundary –¥–ª—è lazy-loaded –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
7. ‚úÖ NotFoundError –≤ CommentsController
8. ‚úÖ NotFoundError –≤ UploadController
9. ‚úÖ ExternalServiceError –≤ ProjectController
10. ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ App.jsx
11. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
12. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è SmartRouter
13. ‚úÖ API endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
14. ‚úÖ API endpoints –¥–ª—è Self-Test Runner
15. ‚úÖ Integration —Ç–µ—Å—Ç—ã –¥–ª—è AI endpoints
16. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ backend
17. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ package.json –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
18. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è validation middleware
19. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OutputValidator –≤ AIController
20. ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è MetricsCollector
21. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤
22. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è GLM-4.7
23. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ OutputValidator –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
24. ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ OpenRouter –≤ SmartRouter
25. ‚úÖ PrismaFlowGenerator –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–∑–æ—Ä–æ–≤
26. ‚úÖ ForestPlotGenerator –¥–ª—è –º–µ—Ç–∞-–∞–Ω–∞–ª–∏–∑–∞
27. ‚úÖ Humanizer –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ AI —Ç–µ–∫—Å—Ç–∞
28. ‚úÖ Git Push - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ GitHub
29. ‚úÖ Review.md v5.0 - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ –∫–æ–¥-—Ä–µ–≤—å—é
30. ‚úÖ Review.md v6.0 - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
31. ‚úÖ Review.md v7.0 - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
32. ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
33. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----------|------------|
| –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á | 32 |
| Backend API endpoints | 47 |
| Frontend UI —Å—Ç—Ä–∞–Ω–∏—Ü | 7 |
| AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | GLM-4.7 + OpenRouter (3 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏) |
| Unit —Ç–µ—Å—Ç—ã | 100+ |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã | 10+ |
| –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã | 5+ |

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:

**Backend**:
- Node.js + Express
- SQLite (sql.js)
- Jest (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- GLM-4.7, OpenRouter (Gemma 2, Mistral 7B, Llama 3.2)

**Frontend**:
- React + Vite
- Vitest (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- Zustand (state management)
- React.memo, Debounce (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

**Performance**:
- Response cache (TTL 5 –º–∏–Ω—É—Ç)
- Connection pooling (https.Agent)
- Request deduplication (pendingRequests map)
- Lazy loading (—Å–µ—Ä–≤–∏—Å—ã + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:
- `start-all.sh` - –∑–∞–ø—É—Å–∫ backend + frontend
- `run-tests.sh` - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
- `manual-test.js` - —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints
- `git_push.sh` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π git push
- `backup.sh` - —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
- `backup_and_push.sh` - –±—ç–∫–∞–ø + git push

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [report.md](./report.md) - –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- [README.md](./README.md) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [PROJECT_STATUS.md](./PROJECT_STATUS.md) - —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- [review.md](./WriterProject/review.md) - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ review

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

1. **–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω–∏—Ç—å `node manual-test.js` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö endpoints
2. **UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–∞—Ç-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
3. **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–π –¥–µ–ø–ª–æ–π**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å production environment variables
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å collection –º–µ—Ç—Ä–∏–∫ –∏ alerting
5. **CI/CD**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö

---

*–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 2026-01-11*
*–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2026-01-12*
*–ê–≤—Ç–æ—Ä: AI Assistant*
*–í–µ—Ä—Å–∏—è: v7.0.0*
